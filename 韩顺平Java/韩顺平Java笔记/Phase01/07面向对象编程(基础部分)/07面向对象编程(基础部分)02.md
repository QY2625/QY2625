### 7.5 方法重载(OverLoad)

#### 7.5.1基本介绍

java 中允许同一个类中，多个同名方法的存在，但要求 形参列表不一致！

比如：System.out.println();	out是PrinStream类型

【OverLoad01.java】

```java
public class OverLoad01{

	public static void main(String[] args) {
		System.out.println(100);
		System.out.println("hello,world");
		System.out.println('h');
		System.out.println(1.1);
		System.out.println(true);
	}
}
```

#### 7.5.2重载的好处

1）减轻了起名的麻烦

2）减轻了记名的麻烦

#### 7.5.3快速入门案例

【OverLoad01.java】

案例：类：MyCalculator	方法：calculate 计算

1）calculate(int n1,int n2)//两个整数的和

2）calculate(int n1,double n2)//一个整数，一个double的和

3）calculate(double n2,int n1)//一个double，一个int和

4）calculate(int n1,int n2,int n3)//三个int的和

```java
public class OverLoad01{
	public static void main(String[] args) {
		// System.out.println(100);
		// System.out.println("hello,world");
		// System.out.println('h');
		// System.out.println(1.1);
		// System.out.println(true);
		//
		MyCalculator mc = new MyCalculator();
		System.out.println(mc.calculate(1,2));
		System.out.println(mc.calculate(1.1,2));

	}
}
class MyCalculator{
		//下面的四个 calculate方法构成了重载
	   //两个整数的和
	   public int calculate(int n1,int n2){
	   		System.out.println("calculate(int n1,int n2) 被调用..");
	   		return n1 + n2;
	   }
	   //一个整数，一个double的和
	   public double calculate(int n1,double n2){
	   		return n1 + n2;
	   }
	   //一个double，一个int和
	   public double calculate(double n2,int n1){
	   		System.out.println("calculate(double n2,int n1) 被调用..");
	   		return n1 + n2;
	   }
	   //三个int的和
	   public int calculate(int n1,int n2,int n3){
	   		return n1 + n2 + n3;
	   }
}
```

#### 7.5.4注意事项和使用细节

1）方法名：必须相同

2）形参列表：必须不同(形参类型或个数或顺序，至少有一样不同，参数名无要求)

3）返回类型：无要求

#### 7.5.5课堂练习题

1. 判断题：

   与void show(int a,char b,double c){ }构成重载的有:[ b c d e]

   a）void show(int x,char y,double z){}//不是

   b）int show(int a,double c,char b){}//是

   c）void show(int a,double c,char b){}//是

   d）boolean show(int c,charb)//是

   e）void show(double c){}//是

   f）double show(int x,char y,double z){}//不是

   g）void shows(){}//不是

2. 编写程序，类Methods中定义三个重载方法并调用。方法名为m。三个方法分别接收一个int参数、两个int参数、一个字符串参数。分别执行平方运算并输出结果，相乘并输出结果，输出字符串信息。在主类的main()方法中分别用参数区别调用三个方法。【OverLoadExercise.java】

3. 在Methods类，定义三个重载方法max(),第一个方法，返回两个int值中的最大值，第二个方法，返回两个double值中的最大值，第三个方法，返回三个double值中的最大值，并分别调用三个方法。

```java
public class OverLoadExercise{
	public static void main(String[] args) {
		//在主类的main()方法中分别用参数区别调用三个方法。
		Methods method = new Methods();
		method.m(10);//100
		method.m(10,20);//200
		method.m("Hello,World!");//Hello,World!

		//测试
		System.out.println(method.max(10,24));//24
		System.out.println(method.max(10.0,21.4));//21.4
		System.out.println(method.max(10.0,1.4,30));//30.0

	}
}

/*
编写程序，类Methods中定义三个重载方法并调用。方法名为m。
三个方法分别接收一个int参数、两个int参数、一个字符串参数。分别执行平方运算并输出结果，
相乘并输出结果，输出字符串信息。在主类的main()方法中分别用参数区别调用三个方法。
*/


/*
在Methods类，定义三个重载方法max(),第一个方法，返回两个int值中的最大值，第二个方法，
返回两个double值中的最大值，第三个方法，返回三个double值中的最大值，并分别调用三个方法。
*/
class Methods {

	//分析
	//1 方法名 max
	//2 形参 (int,int)
	//3. int

	public int max(int n1,int n2){
		return n1 > n2 ? n1 : n2;
	}

	//分析
	//1 方法名 max
	//2 形参 (double,double)
	//3. double
	public double max(double n1,double n2){
		return n1 > n2 ? n1 : n2;
	}

	//分析
	//1 方法名 max
	//2 形参 (double,double)
	//3. double
	public double max(double n1,double n2,double n3){
		return n3 > (n1 > n2 ? n1 : n2) ? n3 : (n1 > n2 ? n1 : n2);
	}

	public double max(double n1,double n2,int n3){
		System.out.println("这个被调用了");
		return n3 > (n1 > n2 ? n1 : n2) ? n3 : (n1 > n2 ? n1 : n2);
	}
  
	//分析
	//1 方法名 m
	//2 形参 (int)
	//3. void
	public void m(int n){
		System.out.println("平方=" + (n * n));
	}

	//1 方法名 m
	//2 形参 (int,int)
	//3. void
	public void m(int n1,int n2){
		System.out.println("相乘=" + (n1 * n2));
	}

	//1 方法名 m
	//2 形参 (String)
	//3. void
	public void m(String str){
		System.out.println("传入的str=" + str);
	}
}
```

### 7.6可变参数

#### 7.6.1基本概念

java允许将同一个类中多个同名同功能但参数个数不同的方法，封装成一个方法。 就可以通过可变参数实现

#### 7.6.2基本语法

> 访问修饰符 返回类型 方法名(数据类型... 形参名){
>
> }

#### 7.6.3快速入门案例(VarParameter01.java)

Variable Parameter  可变参数

看一个案例 类 HspMethod， 方法 sum

【可以计算 2 个数的和， 3 个数的和 ， 4. 5， 。。】

```java
public class VarParameter01{
	public static void main(String[] args) {
		HspMethod m = new HspMethod();
		System.out.println(m.sum(1,5,100));//106
		System.out.println(m.sum(1,19));//20
	}
}

class HspMethod{
	//可以计算 2个数的和，3个数的和，4. 5，。。
	//可以使用方法重载
	// publuc int sum(int n1,int n2){//2个数的和
	// 	return n1 + n2;
	// }

	// publuc int sum(int n1,int n2,int n3){//3个数的和
	// 	return n1 + n2 + n3;
	// }

	// publuc int sum(int n1,int n2,int n3,int n4){//4个数的和
	// 	return n1 + n2 + n3 + n4;
	// }
	//.....
	//上面的三个方法名称相同，功能相同，参数个数不同-> 使用可变参数优化
	//解读
	//1.int... 表示接受的是可变参数，类型是int，即可接收多个int(0 - 多)
	//2.使用可变参数时，可以当做数组来使用 即nums 
	//3.遍历 nums 求和即可
	public int sum(int... nums){
		//System.out.println("接收的参数个数="+ nums.length);
		int res = 0;
		for (int i = 0;i < nums.length ;i++ ) {
			res+=nums[i];
		}
		return res;
	}
}
```

#### 7.6.4注意事项和使用细节

【VarParameterDetail.java】

1）可变参数的实参可以为0个或任意多个。

2）可变参数的实参可以为数组。

3）可变参数的本质就是数组。

4）可变参数可以和普通类型的参数一起放在形参列表，但必须保证可变参数在最后

5）一个形参列表中只能出现一个可变参数

代码

```java
public class VarParameterDetail{
	public static void main(String[] args) {
		//细节：可变参数的实参可以为数组
		int[] arr = {1,2,3};
		T t1 = new T();
		t1.f1(arr);
	}
}

class T {

	public void f1(int... nums){
		System.out.println("长度=" + nums.length);
	}

	//细节：可变参数可以和普通类型的参数一起放在形参列表，但必须保证可变参数在最后
	public void f2(String str,double... nums){

	}

	//细节：一个形参列表中只能出现一个可变参数
	//下面的写法是错误的.
	// public void f3(int... nums,double... nums2)
	// {
		
	// }
}
```

#### 7.6.5课堂练习

【VarParameterExercise.java】

有三个方法，分别实现返回名字和两门课成绩(总分)，返回姓名和三门课成绩（总分），返回姓名和五门课成绩（总分）。封装成一个可变参数的方法

类名HspMethod 方法名 showScore

```java
public class VarParameterExercise{
	public static void main(String[] args) {
		HspMethod hm = new HspMethod();
		System.out.println(hm.showScore("milan",90.1,80.0));
		System.out.println(hm.showScore("terry",90.1,80.0,10,30.5,70));
	}
}

class HspMethod{

	/*
	有三个方法，分别实现返回名字和两门课成绩(总分)，
	返回姓名和三门课成绩（总分），返回姓名和五门课成绩（总分）。封装成一个可变参数的方法
	*/
	//分析1.方法名 showScore 2.形参(String ,double...) 3.返回String
	public String showScore(String name,double... score){

		double totalScore = 0;
		for(int i = 0;i < score.length;i++){
			totalScore+=score[i];
		}
		return name + "有" + score.length + "门课的成绩总分为=" + totalScore; 
	}
}
```

### 7.7作用域

#### 7.7.1基本使用

面向对象中，变量作用域是非常重要的知识点【VarScope.java】

1. 在java编程中，主要的变量就是属性（成员变量）和局部变量。

2. 我们说的局部变量一般是指在成员方法中定义的变量。【Cat类：cry】

3. java中作用域的 分类

   全局变量：也就是属性，作用域为整个类体Cat类：cry eat等方法使用属性

   局部变量：也就是除了属性之外的其他变量，作用域为定义它的代码块中！

4. 全局变量(属性)可以不赋值，直接使用，因为有默认值，局部变量必须赋值后，才能使用，因为没有默认值。

```java
public class VarScope{

	public static void main(String[] args) {
		
	}
}
class Cat{
	//全局变量：也就是属性，作用域为整体类题 Cat类：cry eat 等方法使用属性
	//属性在定义时，可以直接赋值
	int age = 10;//指定的值是 10

	//全局变量(属性)可以不赋值，直接使用，因为有默认值，
    double weight; ///默认值是0.0

    public void hi(){
    //局部变量必须赋值后，才能使用，因为没有默认值。
    	int num = 1;
    	String address = "北京";
    	System.out.println("num=" + num);
    	System.out.println("weight=" + weight);//属性
    }

	{
		int num = 100;
	}
	public void cry(){
		//1.局部变量一般是指在成员方法中定义的变量
		//2.n 和 name 就是局部变量
		//3.n 和 name的作用域在 cry方法中
		int n = 10;
		String name = "jack";
		System.out.println("在cry中使用属性 age=" + age);
	}

	public void eat(){

		System.out.println("在eat中使用属性age=" + age);
		// System.out.println("num=" + num);

		// System.out.println("在eat中使用 cry的变量 name=" + name);//错误
	}
}
```

#### 7.7.2注意事项和细节使用

【VarScopeDetail.java】

1. 属性和局部变量可以重名，访问时遵循就近原则。

2. 在同一个作用域中，比如在同一个成员方法中，两个局部变量，不能重名。

3. 属性生命周期较长，伴随着对象的创建而创建，伴随着对象的销毁而销毁。局部变量，生命周期较短，伴随着它的代码块的执行而创建，伴随着代码块的结束而销毁。即在一次方法调用过程中。

4. 作用域范围不同

   全局变量/属性：可以被本类使用，或其他类使用（通过对象调用）

   局部变量：只能在本类中对应的方法中使用

5. 修饰符不同

   全局变量/属性可以加修饰符

   局部变量不可加修饰符

```java
public class VarScopeDetail{

	public static void main(String[] args) {
		Person p1 = new Person();
		/*
		属性生命周期较长，伴随着对象的创建而创建，伴随着对象的销毁而销毁。
		局部变量，生命周期较短，伴随着它的代码块的执行而创建，
		伴随着代码块的结束而销毁。即在一次方法调用过程中。
		*/
		p1.say();//当执行say方法时，say方法的局部变量比如name，会创建，当say执行完毕后
		//name局部变量就销毁，但是属性(全局变量)仍然可以使用
		
		T t1 = new T();
		t1.test();//第一种跨类访问对象属性的方式

		t1.test2(p1);//第二种跨类访问对象属性的方式
	}
}
class T {
	//全局变量/属性：可以被本类使用，或其他类使用（通过对象调用）
	public void test() {
		Person p1 = new Person();
		System.out.println(p1.name);//jack
	}

	public void test2(Person p){
		System.out.println(p.name);//jack
	}
}

class Person{

	//细节：属性可以加修饰符（public protected private...）
	//		局部变量不能加修饰符号
	public int age = 20;

	String name = "jack";

	public void say(){
		//细节：属性和局部变量可以重名，访问时遵循就近原则。
		//String name = "king";
		System.out.println("say() name=" + name );
	}

	public void hi(){
		String address = "北京";
		//Sting address = "上海";//错误，重复定义变量
		String name = "hsp";//可以


	}
}
```

### 7.8 构造方法/构造器

#### 7.8.1看一个需求

我们来看一个需求：前面我们在创建人类的对象时，是先把一个对象创建好后，再给他的年龄和姓名属性赋值，如 果现在我要求，在创建人类的对象时，就直接指定这个对象的年龄和姓名，该怎么做? 这时就可以使用构造器。

#### 7.8.2基本语法

```
[修饰符] 方法明(形参列表){
	方法体;
}
```

- 说明：
  1. 构造器的修饰符可以默认， 也可以是 public pro
  2. 构造器没有返回值
  3. 方法名 和 类名字必须一样
  4. 参数列表 和 成员方法一样的规则
  5. 构造器的调用，由系统完成

#### 7.8.3基本介绍

构造方法又叫构造器(constructor)，是类的一种特殊的方法，它的主要作用是完成对新对象的初始化。它有几个特点：

1. 方法名 和 类名相同
2. 没有返回值
3. 在创建对象时，系统会自动的调用该类的构造器完成对象的初始化。
