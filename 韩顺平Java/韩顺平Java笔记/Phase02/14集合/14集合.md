## 第 14 章 集合

### 14.1 集合的理解和好处

前面我们保存多个数据使用的是数组，那么数组有不足的地方，我们分析一下

#### 14.1.1 数组

1）长度开始时必须指定，而且一旦指定，不能修改

2）保存的必须为同一类的元素

3）使用数组进行增加/删除元素的示意代码 - 比较麻烦

> 写出Person数组扩容示意代码。

```java
Person[] pers = new Person[1];//大小是1
per[0] = new Person();
```

> 增加新的Person对象

```java
Person[] pers2 = new Person[pers.length+1];//新创建数组
for(){}//拷贝pers数组的元素到pers2
pers2[pers2.length-1] = new Person();//添加新的对象
```

#### 14.1.2 集合

1）可以动态保存任意多个对象，使用比较方便！

2）提供了一些列方便的操作对象的方法：add、remove、set、get等

3）使用集合添加，删除新元素的示意代码- 简洁了

### 14.2 集合的框架体系

Java的集合类很多，主要分为两大类，如图：

【Collection_.java】

![image-20231011201919811](14集合.assets/image-20231011201919811.png)

### 14.3 Collection 接口和常用方法

#### 14.3.1 Collection 接口实现类的特点

```java
public interface Collection<E> extends Iterable <E>
```

1）collection实现子类可以存放多个元素，每个元素可以是Object

2）有些Collection的实现类，可以存放重复的元素，有些不可以

3）有些Collection的实现类，有些是有序的(List)，有些不是有序(Set)

4）Collection接口没有直接的实现子类，是通过它的子接口Set 和List 来实现的

Collection 接口常用方法,以实现子类ArrayList 来演示.【 CollectionMethod.java】

1）add：添加单个元素

2）remove：删除指定元素

3）contains：查找元素是否存在

4）size：获取元素个数

5）isEmpty：判断是否为空

6）clear：清空

7）addAll：添加多个元素

8）containsAll：查找多个元素是否都存在

9）removeAll：删除多个元素

10）说明：以ArrayList实现类来演示

#### 14.3.2 Collection 接口遍历元素方式 1- 使用 Iterator(迭代器)

- 基本介绍

  ![image-20231012131124692](14集合.assets/image-20231012131124692.png)

1）Interator对象称为迭代器，主要用于遍历Collection 集合中的元素。

2）所有实现了Collection接口的集合类都有一个iterator()方法，用以返回一个实现了Iterator接口的对象，即可以返回一个迭代器。

3）Iterator 的结构

4）Iterator 仅用于遍历集合，Iterator本身并不存放对象。

![image-20231012140612411](14集合.assets/image-20231012140612411.png)

![image-20231012140656022](14集合.assets/image-20231012140656022.png)

> 提示：在调用Iterator.next()方法之前必须要调用Iterator.hasNext()进行检测。若不调用，且下一条记录无效，直接调用it.next()会抛出NoSuchElementException异常。

迭代器的使用案例【CollectionIterator.java】

#### 14.3.3 Collection 接口遍历对象方式2-for循环增强

增强for循环，可以代替iterator迭代器，特点：增强for就是简化版的Iierator，本质一样。只能用于遍历集合或数组。

- 基本语法

  ```java
  for(元素类型 元素名：集合名或数组名){
      访问元素
  }
  ```

- 案例演示

  【CollectionFor.java】
