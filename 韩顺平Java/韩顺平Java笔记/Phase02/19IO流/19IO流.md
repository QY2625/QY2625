## 第 19 章 io流

### 19.1 文件

#### 19.1.1 什么是文件

​	文件，对我们并不陌生，文件是保存数据的地方，比如我们经常使用的word文档，txt文件,excel文件...都是文件。它既可以保存一张图片，也可以保存视频，声音...

#### 19.1.2 文件流

文件在程序中是以流的形式来操作的

![image-20231027175818385](19IO流.assets/image-20231027175818385.png)

### 19.2 常用的文件操作

#### 19.2.1 创建文件对象相关构造器和方法

- 相关方法

  new File(String pathname) //根据路径创建一个File对象

  new File(File parent,String child) //根据父目录文件+子路径构建

  new File(String parent,String child) //根据父目录+子路径构建

  createNewFile 创建新文件 

  ![image-20231027181100914](19IO流.assets/image-20231027181100914.png)

- 应用案例演示 [FileCreate.java]

  请选择一个目录，创建文件 news1.txt、news2.txt、news3.txt,用 三种不同方式创建

#### 19.2.2 获取文件的相关信息

getName、getAbsolutePath、getParent、length、exists、isFile、isDirectory

<img src="19IO流.assets/image-20231027190404048.png" alt="image-20231027190404048" style="zoom:50%;" align="left"/>

#### 19.2.3 应用案例演示 

[FileInformation.java]

如何获取到文件的大小，文件名，路径，父File，是文件还是目录(目录本质也是文件，一种特殊的文件)，是否存在.

#### 19.2.4 目录的操作和文件删除

mkdir创建一级目录、mkdirs创建多级目录、delete删除空目录或文件

![image-20231027194807024](19IO流.assets/image-20231027194807024.png)

#### 19.2.5 应用案例演示

![image-20231027194957265](19IO流.assets/image-20231027194957265.png)

### 19.3 IO 流原理及流的分类

#### 19.3.1 Java IO 流原理

1. I/O是Input/Output的缩写，I/O技术是非常实用的技术，用于处理数据传输。如读/写文件,网络通讯等。
2. Java程序中，对于数据的输入/输出操作以" 流(stream)" 的方式进行。
3. java.io 包下提供了各种 ”流“ 类和接口，用以获取不同种类的数据，并通过方法输入或输出数据
4. 输入input：读取外部数据(磁盘、光盘等存储设备的数据) 到程序 (内存) 中。
5. 输出output：将程序 (内存) 数据输出到磁盘、光盘等存储设备中

19.3.2 流的分类

- 按操作数据单位不同分为：字节流(8 bit)二进制文件，字符流(按字符) 文本文件

- 按数据流的流向不同分为：输入流，输出流

- 按流的角色的不同分为：节点流，处理流/包装流

  | (抽象基类) | 字节流       | 字符流 |
  | ---------- | ------------ | ------ |
  | 输入流     | InputStream  | Reader |
  | 输出流     | OutputStream | Writer |

  1）Java的IO流共涉及40多个类，实际上非常规则，都是从如上4个抽象基类派生的。

  2）右这四个类派生出来的子类名称都是以其父类名作为子类名后缀。

### 19.4 IO 流体系图-常用的类

1. IO 流体系图

   ![image-20231027210048210](19IO流.assets/image-20231027210048210.png)

2. 文件 VS 流

<img src="19IO流.assets/image-20231027210151228.png" alt="image-20231027210151228" style="zoom:50%;" />

#### 19.4.1 FileInputStream 介绍

#### 19.4.2 FileInputStream 应用实例

[FileInputStream_.java]

要求：请使用 FileInputStream 读取 hello.txt 文件，并将文件内容显示到控制台.

#### 19.4.3 FileOutputStream 介绍

<img src="19IO流.assets/image-20231028132715405.png" alt="image-20231028132715405" style="zoom:50%;" />

#### 19.4.4 FileOutputStream 应用实例1

[FileOutputStream01.java]

要求：请使用FileOutputStream 在 a.txt 文件，中写入“hello,world”,如果文件不存在，会创建 文件(注意：前提是目录已经存在.)

#### 19.4.5 FileOutputStream  应用实例2

[FileCopy.java]

要求：编程完成图片/音乐 的拷贝.

#### 19.4.6 FileReader 和 FileWriter 介绍

![image-20231028143022223](19IO流.assets/image-20231028143022223.png)

#### 19.4.7 FileReader 相关方法：

1）new FileReader(File/String)

2）read：每次读取单个字符，返回该字符，如果到文件末尾返回-1

3）read(char[])：批量读取多个字符到数组，返回读取到的字符数，如果到文件末尾返回-1

相关API：

1）new String(char[]):将char[]转换成String

2）new String(char[],off,len):将char[]的指定部分转换成String

#### 19.4.8 FileWriter 常用方法

1）new FileWriter(File/String)：覆盖模式，相当于流的指针在首端

2）new FileWriter(File/String,true)：追加模式，相当于流的指针在尾端

3）write(int)：写入单个字符

4）write(char[])：写入指定数组

5）writer(char[],off,len)：写入指定数组的指定部分

6）writer(String)：写入整个字符串

7）write(string,off,len)：写入字符串的指定部分

相关API：String类：toCharArray：将String转换成char[]

- 注意：

  FileWriter使用后，必须要关闭(close)或刷新(flush)，否则写入不到指定的文件！

#### 19.4.9 FileReader 和 FileWriter应用案例

[FileReader_.java]

要求：

1）使用 FileReader 从 story.txt 读取内容，并显示

2）使用 FileWriter 将 "风雨之后，定见彩虹" 写入到 note.txt 文件中，注意细节。

[FileWriter_ .java com.hspedu.writer_]

### 19.5 节点流和处理流

#### 19.5.1 基本介绍

1. 节点流可以从一个特定的数据源读写数据，如FileReader、FileWriter

   ![image-20231028162003988](19IO流.assets/image-20231028162003988.png)

2. 处理流(也叫包装流)是”连接“在已存在的

